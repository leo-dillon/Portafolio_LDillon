---
import MaxMinSize from "../svg/MaxMinSize.astro"

 const { imagen } = Astro.props
---

<script>
    document.addEventListener('DOMContentLoaded', () => {
        let a = document.querySelectorAll('a#VerImagen');
        a.forEach( b => {
            b.addEventListener('click', () => {
                let modal = document.querySelector("div.modal")
                let imagen = modal?.querySelector(".imagenes")
				modal?.addEventListener('click', () => {
					imagen.innerHTML = ''
					modal.classList.remove('activado')
					return
				})
                imagen.innerHTML = `
                        <picture>
                            <img src="${b.dataset.proyect}" alt="Home page del proyecto" title="Home page del proyecto">
                            <button> Cerrar </button>
                        </picture>
                `
                modal?.classList.toggle('activado')
            })
        })
    });
</script>

<div class="ejemplo">
    <picture>
        <img src={ imagen.url } alt={ imagen.alt } >
        <a id="VerImagen" title="Ver Imagen" data-proyect={ imagen.url }>
            <MaxMinSize
                width="32" 
                heigth="32" 
                color="var(--hover--color-white)"
            />
        </a>
    </picture>
    <div>
        <h2> { imagen.alt } </h2>
        <p> { imagen.caption } </p>
    </div>
</div>

<style>
div.ejemplo{
    width: 100%;
    margin: 24px auto;
    padding: 24px;
    display: flex;
    justify-content: center;
    gap: 24px;
    border-radius: 24px;
    background-color: var(--background--color-light-blue-70);
}
div.ejemplo picture{
    position: relative;
    width: 100%;
    max-width: 500px;
}
div.ejemplo picture img{
    width: 100%;
    border-radius: 32px;
}
div.ejemplo picture a{
    position: absolute;
    bottom: 12px;
    right: 12px;
    cursor: pointer;
}
div.ejemplo picture a{
        position: absolute;
        bottom: 8px;
        right: 8px;
        cursor: pointer;
        transform-origin: bottom right;
        transition: scale .1s ease-out;
}
div.ejemplo picture a:hover{    
    scale: 1.3;
}
div.ejemplo div{
    width: 100%;
}
div.ejemplo div h2{
    margin-bottom: 12px;
    font-size: var(--font-32);
    color: var(--text--color-light-yellow);
}
div.ejemplo div p{
    opacity: .8;
    line-height: 1.5;
}
</style>